<!DOCTYPE html>
<html>
<head>
    <title>CSV Data Verification</title>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>
    <h1>CSV Data Verification</h1>
    <div id="results"></div>
    <script>
        const csvFileName = 'Employability Status of Bachelor of Secondary Education Major in Mathematics Graduates for the Academic Year 2024 (Responses).csv';
        
        Papa.parse('data/' + csvFileName, {
            header: true,
            download: true,
            skipEmptyLines: true,
            complete: function(results) {
                const data = results.data;
                const employedKey = 'ARE YOU CURRENTLY EMPLOYED?';
                
                let employed = 0;
                let unemployed = 0;
                let other = 0;
                
                const employedList = [];
                const unemployedList = [];
                
                data.forEach((row, idx) => {
                    const status = row[employedKey]?.trim();
                    const name = row['LAST NAME, FIRST NAME, MIDDLE INITIAL (Ex. DELA CRUZ, JUAN A.)']?.trim();
                    
                    if (status === 'Yes') {
                        employed++;
                        employedList.push({idx: idx+2, name, status});
                    } else if (status === 'No') {
                        unemployed++;
                        unemployedList.push({idx: idx+2, name, status});
                    } else {
                        other++;
                    }
                });
                
                document.getElementById('results').innerHTML = `
                    <h2>Results:</h2>
                    <p><strong>Total Rows:</strong> ${data.length}</p>
                    <p><strong>Employed (Yes):</strong> ${employed}</p>
                    <p><strong>Unemployed (No):</strong> ${unemployed}</p>
                    <p><strong>Other/Empty:</strong> ${other}</p>
                    
                    <h3>Unemployed Records:</h3>
                    <ul>
                    ${unemployedList.map(u => `<li>Row ${u.idx}: ${u.name}</li>`).join('')}
                    </ul>
                `;
            }
        });
    </script>
</body>
</html>
